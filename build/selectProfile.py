# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer

from pathlib import Path
from tkinter import Label, Button, PhotoImage, font
import login as Login
import createProfile as CProfile
import selectProfile as SProfile
import signIn as Sign
import movies as Movies
import variables

OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / Path("assets")

profiles = [('U1','perfil1',20,1),('U1','perfil2',20,2)]

lista = []
buttons = []

def move(destiny, window, canvas):
    for x in lista:
        x.destroy()
    for x in buttons:
        x.delete()
    destiny.run_window(window, canvas)

def enter(destiny, window, canvas, profile):
    for x in lista:
        x.destroy()
    destiny.run_window(window, canvas, profile)

def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)

def run_window(window, canvas, args=[]):
    profiles = variables.global_profiles

    canvas.delete("all")

    button_image_1 = PhotoImage(
        file=relative_to_assets("return_button.png"))
    button_1 = Button(
        image=button_image_1,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: move(Login,window,canvas),
        relief="flat"
    )
    button_1.place(
        x=40.0,
        y=533.0,
        width=280.0,
        height=55.0
    )

    button_image_2 = PhotoImage(    
        file=relative_to_assets("add_profile_button.png"))
    button_2 = Button(
        image=button_image_2,
        borderwidth=0,
        highlightthickness=0,
        command=lambda: move(CProfile, window, canvas),
        relief="flat",
        width=55.0,
        height=55.0
    )

    title = Label(
        text="Select Profile",
        font=font.Font(family="Roboto", size=30),
        pady=20,
        background="#050840",
        foreground="#f2f2f2",
    )
    title.pack()

    class profilebutton:

        def __init__(self,profile) -> None:
            
            self.name = profile[1]

            self.button = Button(
                command = lambda: enter(Movies, window, canvas, profile),
                relief="flat",
                bg="#d80b1c",
                font=("Roboto", 28 * -1), 
                fg="#f2f2f2",
                width=18,
                text=self.name.upper()
            )
            self.button.pack(pady=5)

        def delete(self):
            self.button.destroy()

    for x in profiles:
        buttons.append(profilebutton(x))

    button_2.pack(pady=10)

    lista.append(title)
    lista.append(button_1)
    lista.append(button_2)

    window.resizable(False, False)
    window.mainloop()
